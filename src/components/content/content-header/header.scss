.header {
   background-color: blue;
   height: 50px;
   position: relative;
}

*,
*::before,
*::after {
   box-sizing: border-box;
}

:root {
   --bar-width: 60px;
   --bar-height: 8px;
   --hamburger-gap: 6px;
   --foreground: #333;
   --background: transparent;
   --hamburger-margin: 5px;
   --animation-timing: 200ms ease-in-out;
   --hamburger-height: calc(var(--bar-height) * 3 + var(--hamburger-gap) * 2);
}

.c-header__menu {
   --x-width: calc(var(--hamburger-height) * 1.41421356237);
   display: flex;
   flex-direction: column;
   gap: var(--hamburger-gap);
   width: max-content;
   position: absolute;
   top: var(--hamburger-margin);
   left: var(--hamburger-margin);
   z-index: 2;
   cursor: pointer;
}
.c-header__menu:has(input:checked)  {
   --foreground: white;
   --background: #333;
}
.c-header__menu:has(input:focus-visible)::before,
.c-header__menu:has(input:focus-visible)::after,
.c-header__menu input:focus-visible {
   border: 1px solid var(--background);
}



.c-header__menu::before,
.c-header__menu::after,
.c-header__menu input {
   content: "";
   width: var(--bar-width);
   height: var(--bar-height);
   background-color: var(--foreground);
   border-radius: 9999px;
   transform-origin: left center;
   transition: opacity var(--animation-timing), width var(--animation-timing), rotate var(--animation-timing), translate var(--animation-timing);
}

.c-header__menu input {
   appearance: none;
   outline: none;
   pointer-events: none;
}

.c-header__menu:has(input:checked)::before {
   rotate: 45deg;
   width: var(--x-width);
   translate: 0 calc(var(--bar-height) / -2);
}

.c-header__menu:has(input:checked)::after {
   rotate: -45deg;
   width: var(--x-width);
   translate: 0 calc(var(--bar-height) / 2);
}

.c-header__menu input:checked {
   opacity: 0;
   width: 0;
}
